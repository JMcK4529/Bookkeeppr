{% extends "base.html" %}

{% block content %}
<h2>Create Sale</h2>
<form method="post" action="/sales/create">
    <label for="customer_name">Customer:</label>
    <select name="customer_name" required>
        {% for customer in customers %}
            <option value="{{ customer.name }}">{{ customer.name }}</option>
        {% endfor %}
    </select><br>

    <label for="invoice_number">Invoice Number:</label>
    <input type="text" name="invoice_number" required><br>

    <label for="net_amount">Net Amount:</label>
    <input type="number" step="0.01" name="net_amount" required><br>

    <label for="vat_percent">VAT Percent:</label>
    <select name="vat_percent">
        <option value="0.0">0%</option>
        <option value="0.2">20%</option>
    </select><br>

    <label for="payment_method">Payment Method:</label>
    <select name="payment_method">
        <option value="BACS">BACS</option>
        <option value="Cash">Cash</option>
        <option value="Card">Card</option>
        <option value="Direct Debit">Direct Debit</option>
    </select><br>

    <label>
        Override creation timestamp: <input type="checkbox" id="toggleTimestamp">
    </label><br>

    <div id="timestampSection" style="display:none;">
        <label for="timestamp">Date & Time:</label>
        <input type="datetime-local" name="timestamp"><br>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const toggle = document.getElementById("toggleTimestamp");
            const section = document.getElementById("timestampSection");

            toggle.addEventListener("change", function () {
                section.style.display = this.checked ? "block" : "none";
            });
        });
    </script>

    <button type="submit">Create Sale</button>
</form>
{% endblock %}